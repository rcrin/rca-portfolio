{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Ramil Christian\\\\Desktop\\\\RCA-Portfolio\\\\rca-portfolio\\\\src\\\\component\\\\Test\\\\Test.js\";\nimport React, { useRef, useLayoutEffect, useEffect } from \"react\";\nimport { motion, useAnimation } from \"framer-motion/dist/framer-motion\";\nimport \"./styles.css\";\nfunction Test(_ref) {\n  var _this = this;\n  var _ref$delayPerPixel = _ref.delayPerPixel,\n    delayPerPixel = _ref$delayPerPixel === void 0 ? 0.0008 : _ref$delayPerPixel,\n    _ref$numItems = _ref.numItems,\n    numItems = _ref$numItems === void 0 ? 50 : _ref$numItems;\n  var originOffset = useRef({\n    top: 0,\n    left: 0\n  });\n  var controls = useAnimation();\n  useEffect(function () {\n    controls.start(\"visible\");\n  }, []);\n  return (\n    /*#__PURE__*/\n    // We set variants to be an object to force variant propagation - this is a bug\n    // with variants and useAnimation()\n    // https://github.com/framer/motion/issues/191\n    React.createElement(motion.div, {\n      initial: \"hidden\",\n      animate: controls,\n      variants: {},\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 17,\n        columnNumber: 5\n      }\n    }, Array.from({\n      length: numItems\n    }).map(function (_, i) {\n      return /*#__PURE__*/React.createElement(GridItem, {\n        key: i,\n        i: i,\n        originIndex: 26,\n        delayPerPixel: delayPerPixel,\n        originOffset: originOffset,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 19,\n          columnNumber: 9\n        }\n      });\n    }))\n  );\n}\nfunction GridItem(_ref2) {\n  var delayPerPixel = _ref2.delayPerPixel,\n    i = _ref2.i,\n    originIndex = _ref2.originIndex,\n    originOffset = _ref2.originOffset;\n  var delayRef = useRef(0);\n  var offset = useRef({\n    top: 0,\n    left: 0\n  });\n  var ref = useRef();\n\n  // The measurement for all elements happens in the layoutEffect cycle\n  // This ensures that when we calculate distance in the effect cycle\n  // all elements have already been measured\n  useLayoutEffect(function () {\n    var element = ref.current;\n    if (!element) return;\n    offset.current = {\n      top: element.offsetTop,\n      left: element.offsetLeft\n    };\n    if (i === originIndex) {\n      originOffset.current = offset.current;\n    }\n  }, [delayPerPixel]);\n  useEffect(function () {\n    var dx = Math.abs(offset.current.left - originOffset.current.left);\n    var dy = Math.abs(offset.current.top - originOffset.current.top);\n    var d = Math.sqrt(Math.pow(dx, 2) + Math.pow(dy, 2));\n    delayRef.current = d * delayPerPixel;\n  }, [delayPerPixel]);\n  return /*#__PURE__*/React.createElement(Box, {\n    style: \"margin: 10px;\\r display: inline-block;\\r height: 65px;\\r width: 65px;\\r background-color: white;\\r border-radius: 10px;\",\n    ref: ref,\n    variants: itemVariants,\n    custom: delayRef,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 5\n    }\n  });\n}\nvar itemVariants = {\n  hidden: {\n    opacity: 0,\n    scale: 0.5\n  },\n  visible: function visible(delayRef) {\n    return {\n      opacity: 1,\n      scale: 1,\n      transition: {\n        delay: delayRef.current\n      }\n    };\n  }\n};\nexport default Test;","map":{"version":3,"names":["React","useRef","useLayoutEffect","useEffect","motion","useAnimation","Test","_ref","_this","_ref$delayPerPixel","delayPerPixel","_ref$numItems","numItems","originOffset","top","left","controls","start","createElement","div","initial","animate","variants","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","Array","from","length","map","_","i","GridItem","key","originIndex","_ref2","delayRef","offset","ref","element","current","offsetTop","offsetLeft","dx","Math","abs","dy","d","sqrt","pow","Box","style","itemVariants","custom","hidden","opacity","scale","visible","transition","delay"],"sources":["C:/Users/Ramil Christian/Desktop/RCA-Portfolio/rca-portfolio/src/component/Test/Test.js"],"sourcesContent":["import React, { useRef, useLayoutEffect, useEffect } from \"react\";\r\nimport { motion, useAnimation } from \"framer-motion/dist/framer-motion\";\r\nimport \"./styles.css\";\r\n\r\nfunction Test({ delayPerPixel = 0.0008, numItems = 50 }) {\r\n  const originOffset = useRef({ top: 0, left: 0 });\r\n  const controls = useAnimation();\r\n\r\n  useEffect(() => {\r\n    controls.start(\"visible\");\r\n  }, []);\r\n\r\n  return (\r\n    // We set variants to be an object to force variant propagation - this is a bug\r\n    // with variants and useAnimation()\r\n    // https://github.com/framer/motion/issues/191\r\n    <motion.div initial=\"hidden\" animate={controls} variants={{}}>\r\n      {Array.from({ length: numItems }).map((_, i) => (\r\n        <GridItem\r\n          key={i}\r\n          i={i}\r\n          originIndex={26}\r\n          delayPerPixel={delayPerPixel}\r\n          originOffset={originOffset}\r\n        />\r\n      ))}\r\n    </motion.div>\r\n  );\r\n}\r\n\r\nfunction GridItem({ delayPerPixel, i, originIndex, originOffset }) {\r\n  const delayRef = useRef(0);\r\n  const offset = useRef({ top: 0, left: 0 });\r\n  const ref = useRef();\r\n\r\n  // The measurement for all elements happens in the layoutEffect cycle\r\n  // This ensures that when we calculate distance in the effect cycle\r\n  // all elements have already been measured\r\n  useLayoutEffect(() => {\r\n    const element = ref.current;\r\n    if (!element) return;\r\n\r\n    offset.current = {\r\n      top: element.offsetTop,\r\n      left: element.offsetLeft,\r\n    };\r\n\r\n    if (i === originIndex) {\r\n      originOffset.current = offset.current;\r\n    }\r\n  }, [delayPerPixel]);\r\n\r\n  useEffect(() => {\r\n    const dx = Math.abs(offset.current.left - originOffset.current.left);\r\n    const dy = Math.abs(offset.current.top - originOffset.current.top);\r\n    const d = Math.sqrt(Math.pow(dx, 2) + Math.pow(dy, 2));\r\n    delayRef.current = d * delayPerPixel;\r\n  }, [delayPerPixel]);\r\n\r\n  return (\r\n    <Box\r\n      style=\"margin: 10px;\r\n  display: inline-block;\r\n  height: 65px;\r\n  width: 65px;\r\n  background-color: white;\r\n  border-radius: 10px;\"\r\n      ref={ref}\r\n      variants={itemVariants}\r\n      custom={delayRef}\r\n    />\r\n  );\r\n}\r\n\r\nconst itemVariants = {\r\n  hidden: {\r\n    opacity: 0,\r\n    scale: 0.5,\r\n  },\r\n  visible: (delayRef) => ({\r\n    opacity: 1,\r\n    scale: 1,\r\n    transition: { delay: delayRef.current },\r\n  }),\r\n};\r\n\r\nexport default Test;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}